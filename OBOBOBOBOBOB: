[1mdiff --git a/app/app.modules.js b/app/app.modules.js[m
[1mindex 2f5c57a..dabb3d2 100644[m
[1m--- a/app/app.modules.js[m
[1m+++ b/app/app.modules.js[m
[36m@@ -1,5 +1,5 @@[m
 /** Main App **/[m
[31m-angular.module('ProxyPrint', ['Auth','ngRoute','ngCookies']).run(['$rootScope', '$location', '$cookieStore', '$http',[m
[32m+[m[32mangular.module('ProxyPrint', ['Auth','ui.router','ngCookies']).run(['$rootScope', '$location', '$cookieStore', '$http',[m
     function ($rootScope, $location, $cookieStore, $http) {[m
         // keep user logged in after page refresh[m
         $rootScope.globals = $cookieStore.get('globals') || {};[m
[1mdiff --git a/app/app.routes.js b/app/app.routes.js[m
[1mindex 4338f2f..d0ccdab 100644[m
[1m--- a/app/app.routes.js[m
[1m+++ b/app/app.routes.js[m
[36m@@ -1,17 +1,34 @@[m
[31m-angular.module("ProxyPrint").config(['$routeProvider', function ($routeProvider ) {[m
[31m-   $routeProvider.[m
[31m-      when('/', {[m
[32m+[m[32mangular.module("ProxyPrint").config(['$stateProvider', '$urlRouterProvider', function ($stateProvider, $urlRouterProvider) {[m
[32m+[m[32m   $urlRouterProvider.otherwise('/');[m
[32m+[m
[32m+[m[32m   $stateProvider[m
[32m+[m[32m      .state('home', {[m
[32m+[m[32m         url: '/',[m
          templateUrl: '/app/components/home/views/frontpage.html',[m
          controller: 'LoginController'[m
[31m-      }).[m
[31m-      when('/register' , {[m
[31m-         templateUrl: '/app/components/home/views/register.html'[m
[31m-      }).[m
[31m-      when('/:userID', {[m
[31m-         templateUrl: '/app/components/customer/views/customer_mainpage.html'[m
[31m-      }).[m
[31m-      otherwise({[m
[31m-         redirectTo: '/'[m
[32m+[m[32m      })[m
[32m+[m[32m      .state('register' , {[m
[32m+[m[32m         url: '/register',[m
[32m+[m[32m         templateUrl: '/app/components/home/views/register.html',[m
[32m+[m[32m         controller: 'RegisterController'[m
[32m+[m[32m      })[m
[32m+[m[32m      .state('consumer', {[m
[32m+[m[32m         url: '/:consumerID',[m
[32m+[m[32m         views: {[m
[32m+[m[32m            '': {[m
[32m+[m[32m               templateUrl: '/app/components/consumer/views/consumer_mainpage.html',[m
[32m+[m[32m               controller: 'ConsumerController'[m
[32m+[m[32m            }[m
[32m+[m[32m         }[m
[32m+[m
[32m+[m[32m      })[m
[32m+[m[32m      .state('consumer.settings' ,{[m
[32m+[m[32m         url: '/settings',[m
[32m+[m[32m         templateUrl: '/app/components/consumer/views/consumer_settings.html'[m
[32m+[m[32m      })[m
[32m+[m[32m      .state('consumer.mainpage' ,{[m
[32m+[m[32m         url: '/mainpage',[m
[32m+[m[32m         templateUrl: '/app/components/consumer/views/consumer_maincontent.html'[m
       });[m
 [m
 [m
[1mdiff --git a/app/components/consumer/controllers/ConsumerController.js b/app/components/consumer/controllers/ConsumerController.js[m
[1mnew file mode 100644[m
[1mindex 0000000..45a85d5[m
[1m--- /dev/null[m
[1m+++ b/app/components/consumer/controllers/ConsumerController.js[m
[36m@@ -0,0 +1,18 @@[m
[32m+[m[32mangular.module('ProxyPrint').controller('ConsumerController', ['$scope', '$http','$cookieStore', 'AuthenticationService', '$rootScope', '$location',[m
[32m+[m[32m      function($scope, $http, $cookieStore, AuthenticationService, $rootScope, $location) {[m
[32m+[m
[32m+[m[32m   $scope.consumer = $cookieStore.get('globals').currentUser;[m
[32m+[m
[32m+[m[32m   $scope.testSecured = function() {[m
[32m+[m[32m      $http.get('http://localhost:8080/api/secured')[m
[32m+[m[32m         .then(function(response) {[m
[32m+[m[32m            console.log(response);[m
[32m+[m[32m         });[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32m   $scope.logout = function (){[m
[32m+[m[32m      AuthenticationService.ClearCredentials();[m
[32m+[m[32m      $location.path('/');[m
[32m+[m[32m   };[m
[32m+[m
[32m+[m[32m}]);[m
[1mdiff --git a/app/components/consumer/views/consumer_maincontent.html b/app/components/consumer/views/consumer_maincontent.html[m
[1mnew file mode 100644[m
[1mindex 0000000..93ec5fb[m
[1m--- /dev/null[m
[1m+++ b/app/components/consumer/views/consumer_maincontent.html[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32m!!user main cont #fool[m
[1mdiff --git a/app/components/consumer/views/consumer_mainpage.html b/app/components/consumer/views/consumer_mainpage.html[m
[1mnew file mode 100644[m
[1mindex 0000000..20fdff1[m
[1m--- /dev/null[m
[1m+++ b/app/components/consumer/views/consumer_mainpage.html[m
[36m@@ -0,0 +1,66 @@[m
[32m+[m[32m<div class="margin-top">[m
[32m+[m[32m   <nav class="navbar navbar-fixed-top navbar-inverse">[m
[32m+[m[32m      <div class="container-fluid">[m
[32m+[m[32m         <div class="navbar-header">[m
[32m+[m[32m            <a class="navbar-brand" href="#">ProxyPrint</a>[m
[32m+[m[32m         </div>[m
[32m+[m[32m         <ul class="nav navbar-nav navbar-right">[m
[32m+[m[32m            <li class="navbar-brand">[m
[32m+[m[32m              {{consumer.username}}[m
[32m+[m[32m            </li>[m
[32m+[m[32m            <li>[m
[32m+[m[32m               <a ui-sref=".mainpage">[m
[32m+[m[32m                  <span class="glyphicon glyphicon-bell"></span>[m
[32m+[m[32m               </a>[m
[32m+[m[32m            </li>[m
[32m+[m[32m            <li>[m
[32m+[m[32m               <a ui-sref=".settings">[m
[32m+[m[32m                  <span class="glyphicon glyphicon-cog"></span>[m
[32m+[m[32m               </a>[m
[32m+[m[32m            </li>[m
[32m+[m[32m            <li>[m
[32m+[m[32m               <a ng-click="logout()">[m
[32m+[m[32m                  <span class="glyphicon glyphicon-log-in" ng-click="logout()"></span>[m
[32m+[m[32m                  Logout</a>[m
[32m+[m[32m            </li>[m
[32m+[m[32m         </ul>[m
[32m+[m[32m      </div>[m
[32m+[m[32m   </nav>[m
[32m+[m
[32m+[m[32m   <div class="container-fluid">[m
[32m+[m
[32m+[m[32m      <div class="row row-offcanvas row-offcanvas-left">[m
[32m+[m
[32m+[m[32m         <div id="sidebar" class="col-sm-3 col-md-2 sidebar-offcanvas" role="navigation">[m
[32m+[m
[32m+[m[32m            <ul class="nav nav-sidebar">[m
[32m+[m[32m               <li><a href="#">Home</a></li>[m
[32m+[m[32m               <li><a href="#">Print Shops</a><li>[m
[32m+[m[32m               <li><a href="#">History Request</a><li>[m
[32m+[m[32m            </ul>[m
[32m+[m
[32m+[m[32m         </div>[m
[32m+[m[32m         <!--/span-->[m
[32m+[m
[32m+[m[32m         <div class="col-sm-9 col-md-10 main">[m
[32m+[m
[32m+[m[32m            <!--toggle sidebar button-->[m
[32m+[m[32m            <p class="visible-xs">[m
[32m+[m[32m               <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">[m
[32m+[m[32m                  <i class="glyphicon glyphicon-chevron-left"></i>[m
[32m+[m[32m               </button>[m
[32m+[m[32m            </p>[m
[32m+[m
[32m+[m[32m            <br>[m
[32m+[m[32m            <div ui-view>[m
[32m+[m[32m               <a button type="button" class="btn btn-primary" ng-click="testSecured()">SECURED</a>[m
[32m+[m[32m               <a button type="button" class="btn btn-primary" ng-click="logout()">Log out</a>[m
[32m+[m[32m               user main page[m
[32m+[m[32m            </div>[m
[32m+[m
[32m+[m[32m         </div>[m
[32m+[m[32m         <!--/row-->[m
[32m+[m[32m      </div>[m
[32m+[m[32m   </div>[m
[32m+[m[32m   <!--/.container-->[m
[32m+[m[32m</div>[m
[1mdiff --git a/app/components/consumer/views/consumer_settings.html b/app/components/consumer/views/consumer_settings.html[m
[1mnew file mode 100644[m
[1mindex 0000000..a6d129a[m
[1m--- /dev/null[m
[1m+++ b/app/components/consumer/views/consumer_settings.html[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32mSettings!![m
[1mdiff --git a/app/components/customer/views/customer_mainpage.html b/app/components/customer/views/customer_mainpage.html[m
[1mdeleted file mode 100644[m
[1mindex e5aab09..0000000[m
[1m--- a/app/components/customer/views/customer_mainpage.html[m
[1m+++ /dev/null[m
[36m@@ -1 +0,0 @@[m
[31m-CUSTOMER MAIN PAGE![m
[1mdiff --git a/app/components/home/controllers/LoginController.js b/app/components/home/controllers/LoginController.js[m
[1mindex 9e56222..e18c3b6 100644[m
[1m--- a/app/components/home/controllers/LoginController.js[m
[1m+++ b/app/components/home/controllers/LoginController.js[m
[36m@@ -1,15 +1,16 @@[m
 angular.module('Auth').controller('LoginController',[m
[31m-    ['$scope', '$rootScope', '$location', 'AuthenticationService',[m
[31m-    function ($scope, $rootScope, $location, AuthenticationService) {[m
[32m+[m[32m    ['$scope', '$rootScope', '$location', 'AuthenticationService','$state', '$cookieStore',[m
[32m+[m[32m    function ($scope, $rootScope, $location, AuthenticationService, $state, $cookieStore) {[m
         // reset login status[m
         AuthenticationService.ClearCredentials();[m
 [m
         $scope.login = function () {[m
             $scope.dataLoading = true;[m
             AuthenticationService.Login($scope.username, $scope.password, function (response) {[m
[32m+[m[32m               console.log(response);[m
                 if (response.success) {[m
                     AuthenticationService.SetCredentials($scope.username, $scope.password);[m
[31m-                    $location.path('/:userID');[m
[32m+[m[32m                    $location.path('/:consumerID');[m
                 } else {[m
                     $scope.error = response.message;[m
                     $scope.dataLoading = false;[m
[1mdiff --git a/app/components/home/controllers/RegisterController.js b/app/components/home/controllers/RegisterController.js[m
[1mnew file mode 100644[m
[1mindex 0000000..07bce48[m
[1m--- /dev/null[m
[1m+++ b/app/components/home/controllers/RegisterController.js[m
[36m@@ -0,0 +1,20 @@[m
[32m+[m[32mangular.module('Auth').controller('RegisterController',[m
[32m+[m[32m    ['$scope', '$rootScope', '$location', 'AuthenticationService','$state', '$cookieStore',[m
[32m+[m[32m    function ($scope, $rootScope, $location, AuthenticationService, $state, $cookieStore) {[m
[32m+[m[32m        // reset login status[m
[32m+[m[32m        AuthenticationService.ClearCredentials();[m
[32m+[m
[32m+[m[32m        $scope.register = function () {[m
[32m+[m[32m            $scope.dataLoading = true;[m
[32m+[m[32m            AuthenticationService.Register($scope.name, $scope.email, $scope.username, $scope.password, function (response) {[m
[32m+[m[32m                if (response.success) {[m
[32m+[m[32m                    AuthenticationService.SetCredentials($scope.username, $scope.password);[m
[32m+[m[32m                    $location.path('/:consumerID');[m
[32m+[m[32m                    $state.go('consumer');[m
[32m+[m[32m                } else {[m
[32m+[m[32m                    $scope.error = response.message;[m
[32m+[m[32m                    $scope.dataLoading = false;[m
[32m+[m[32m                }[m
[32m+[m[32m            });[m
[32m+[m[32m        };[m
[32m+[m[32m    }]);[m
[1mdiff --git a/app/components/home/controllers/registerController.js b/app/components/home/controllers/registerController.js[m
[1mdeleted file mode 100644[m
[1mindex e862b72..0000000[m
[1m--- a/app/components/home/controllers/registerController.js[m
[1m+++ /dev/null[m
[36m@@ -1 +0,0 @@[m
[31m-//to-do![m
[1mdiff --git a/app/components/home/services/auth.js b/app/components/home/services/auth.js[m
[1mindex 2a625ad..776f574 100644[m
[1m--- a/app/components/home/services/auth.js[m
[1m+++ b/app/components/home/services/auth.js[m
[36m@@ -1,133 +1,156 @@[m
[31m-angular.module('Auth').factory('AuthenticationService',[m
[31m-    ['Base64', '$http', '$cookieStore', '$rootScope', '$timeout',[m
[31m-    function (Base64, $http, $cookieStore, $rootScope, $timeout) {[m
[31m-        var service = {};[m
[31m-[m
[31m-        service.Login = function (username, password, callback) {[m
[31m-[m
[31m-            /* Dummy authentication for testing, uses $timeout to simulate api call[m
[31m-             ----------------------------------------------*/[m
[31m-            $timeout(function () {[m
[31m-                var response = { success: username === 'test' && password === 'test' }; //get authorization here!!![m
[31m-                if (!response.success) {[m
[31m-                    response.message = 'Username or password is incorrect';[m
[31m-                }[m
[31m-                callback(response);[m
[31m-            }, 1000);[m
[31m-[m
[31m-[m
[31m-            /* Use this for real authentication[m
[31m-             ----------------------------------------------*/[m
[31m-            //$http.post('/api/authenticate', { username: username, password: password })[m
[31m-            //    .success(function (response) {[m
[31m-            //        callback(response);[m
[31m-            //    });[m
[31m-[m
[31m-        };[m
[31m-[m
[31m-        service.SetCredentials = function (username, password) {[m
[31m-            var authdata = Base64.encode(username + ':' + password);[m
[31m-[m
[31m-            $rootScope.globals = {[m
[31m-                currentUser: {[m
[31m-                    username: username,[m
[31m-                    authdata: authdata[m
[31m-                }[m
[31m-            };[m
[31m-[m
[31m-            $http.defaults.headers.common['Authorization'] = 'Basic ' + authdata; // jshint ignore:line[m
[31m-            $cookieStore.put('globals', $rootScope.globals);[m
[31m-        };[m
[31m-[m
[31m-        service.ClearCredentials = function () {[m
[31m-            $rootScope.globals = {};[m
[31m-            $cookieStore.remove('globals');[m
[31m-            $http.defaults.headers.common.Authorization = 'Basic ';[m
[31m-        };[m
[31m-[m
[31m-        return service;[m
[31m-    }])[m
[31m-[m
[31m-.factory('Base64', function () {[m
[31m-    /* jshint ignore:start */[m
[31m-[m
[31m-    var keyStr = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';[m
[31m-[m
[31m-    return {[m
[31m-        encode: function (input) {[m
[31m-            var output = "";[m
[31m-            var chr1, chr2, chr3 = "";[m
[31m-            var enc1, enc2, enc3, enc4 = "";[m
[31m-            var i = 0;[m
[31m-[m
[31m-            do {[m
[31m-                chr1 = input.charCodeAt(i++);[m
[31m-                chr2 = input.charCodeAt(i++);[m
[31m-                chr3 = input.charCodeAt(i++);[m
[31m-[m
[31m-                enc1 = chr1 >> 2;[m
[31m-                enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);[m
[31m-                enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);[m
[31m-                enc4 = chr3 & 63;[m
[31m-[m
[31m-                if (isNaN(chr2)) {[m
[31m-                    enc3 = enc4 = 64;[m
[31m-                } else if (isNaN(chr3)) {[m
[31m-                    enc4 = 64;[m
[31m-                }[m
[31m-[m
[31m-                output = output +[m
[31m-                    keyStr.charAt(enc1) +[m
[31m-                    keyStr.charAt(enc2) +[m
[31m-                    keyStr.charAt(enc3) +[m
[31m-                    keyStr.charAt(enc4);[m
[31m-                chr1 = chr2 = chr3 = "";[m
[31m-                enc1 = enc2 = enc3 = enc4 = "";[m
[31m-            } while (i < input.length);[m
[31m-[m
[31m-            return output;[m
[31m-        },[m
[31m-[m
[31m-        decode: function (input) {[m
[31m-            var output = "";[m
[31m-            var chr1, chr2, chr3 = "";[m
[31m-            var enc1, enc2, enc3, enc4 = "";[m
[31m-            var i = 0;[m
[31m-[m
[31m-            // remove all characters that are not A-Z, a-z, 0-9, +, /, or =[m
[31m-            var base64test = /[^A-Za-z0-9\+\/\=]/g;[m
[31m-            if (base64test.exec(input)) {[m
[31m-                window.alert("There were invalid base64 characters in the input text.\n" +[m
[31m-                    "Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\n" +[m
[31m-                    "Expect errors in decoding.");[m
[32m+[m[32mangular.module('Auth').factory('AuthenticationService', ['Base64', '$http', '$cookieStore', '$rootScope', '$timeout',[m
[32m+[m[32m   function(Base64, $http, $cookieStore, $rootScope, $timeout) {[m
[32m+[m[32m      var service = {};[m
[32m+[m
[32m+[m[32m      service.Login = function(username, password, callback) {[m
[32m+[m
[32m+[m[32m         var data = $.param({[m
[32m+[m[32m            username: username,[m
[32m+[m[32m            password: password[m
[32m+[m[32m         });[m
[32m+[m
[32m+[m[32m         $http({[m
[32m+[m[32m               method: 'POST',[m
[32m+[m[32m               url: 'http://localhost:8080/consumer/login',[m
[32m+[m[32m               data: data,[m
[32m+[m[32m               headers: {[m
[32m+[m[32m                  'Content-Type': 'application/x-www-form-urlencoded'[m
[32m+[m[32m               }[m
[32m+[m[32m            })[m
[32m+[m[32m            .success(function(response) {[m
[32m+[m[32m               callback(response);[m
[32m+[m[32m            });[m
[32m+[m
[32m+[m[32m      };[m
[32m+[m
[32m+[m[32m      service.Register = function(name, email, username, password, callback) {[m
[32m+[m[32m         var data = $.param({[m
[32m+[m[32m            name: name,[m
[32m+[m[32m            email: email,[m
[32m+[m[32m            username: username,[m
[32m+[m[32m            password: password,[m
[32m+[m[32m            latitude: "0",[m
[32m+[m[32m            longitude: "0"[m
[32m+[m[32m         })[m
[32m+[m[32m         $http({[m
[32m+[m[32m               method: 'POST',[m
[32m+[m[32m               url: 'http://localhost:8080/consumer/register',[m
[32m+[m[32m               data: data,[m
[32m+[m[32m               headers: {[m
[32m+[m[32m                  'Content-Type': 'application/x-www-form-urlencoded'[m
[32m+[m[32m               }[m
[32m+[m[32m            })[m
[32m+[m[32m            .success(function(response) {[m
[32m+[m[32m               callback(response);[m
[32m+[m[32m            });[m
[32m+[m[32m      };[m
[32m+[m
[32m+[m[32m      service.SetCredentials = function(username, password) {[m
[32m+[m[32m         var authdata = Base64.encode(username + ':' + password);[m
[32m+[m
[32m+[m[32m         $rootScope.globals = {[m
[32m+[m[32m            currentUser: {[m
[32m+[m[32m               username: username,[m
[32m+[m[32m               authdata: authdata[m
[32m+[m[32m            }[m
[32m+[m[32m         };[m
[32m+[m
[32m+[m[32m         $http.defaults.headers.common['Authorization'] = 'Basic ' + authdata; // jshint ignore:line[m
[32m+[m[32m         $http.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';[m
[32m+[m[32m         $cookieStore.put('globals', $rootScope.globals);[m
[32m+[m[32m      };[m
[32m+[m
[32m+[m[32m      service.ClearCredentials = function() {[m
[32m+[m[32m         $rootScope.globals = {};[m
[32m+[m[32m         $cookieStore.remove('globals');[m
[32m+[m[32m         $http.defaults.headers.common.Authorization = 'Basic ';[m
[32m+[m[32m      };[m
[32m+[m
[32m+[m
[32m+[m[32m      return service;[m
[32m+[m[32m   }[m
[32m+[m[32m])[m
[32m+[m
[32m+[m[32m.factory('Base64', function() {[m
[32m+[m[32m   /* jshint ignore:start */[m
[32m+[m
[32m+[m[32m   var keyStr = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';[m
[32m+[m
[32m+[m[32m   return {[m
[32m+[m[32m      encode: function(input) {[m
[32m+[m[32m         var output = "";[m
[32m+[m[32m         var chr1, chr2, chr3 = "";[m
[32m+[m[32m         var enc1, enc2, enc3, enc4 = "";[m
[32m+[m[32m         var i = 0;[m
[32m+[m
[32m+[m[32m         do {[m
[32m+[m[32m            chr1 = input.charCodeAt(i++);[m
[32m+[m[32m            chr2 = input.charCodeAt(i++);[m
[32m+[m[32m            chr3 = input.charCodeAt(i++);[m
[32m+[m
[32m+[m[32m            enc1 = chr1 >> 2;[m
[32m+[m[32m            enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);[m
[32m+[m[32m            enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);[m
[32m+[m[32m            enc4 = chr3 & 63;[m
[32m+[m
[32m+[m[32m            if (isNaN(chr2)) {[m
[32m+[m[32m               enc3 = enc4 = 64;[m
[32m+[m[32m            } else if (isNaN(chr3)) {[m
[32m+[m[32m               enc4 = 64;[m
             }[m
[31m-            input = input.replace(/[^A-Za-z0-9\+\/\=]/g, "");[m
[31m-[m
[31m-            do {[m
[31m-                enc1 = keyStr.indexOf(input.charAt(i++));[m
[31m-                enc2 = keyStr.indexOf(input.charAt(i++));[m
[31m-                enc3 = keyStr.indexOf(input.charAt(i++));[m
[31m-                enc4 = keyStr.indexOf(input.charAt(i++));[m
[31m-[m
[31m-                chr1 = (enc1 << 2) | (enc2 >> 4);[m
[31m-                chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);[m
[31m-                chr3 = ((enc3 & 3) << 6) | enc4;[m
[31m-[m
[31m-                output = output + String.fromCharCode(chr1);[m
 [m
[31m-                if (enc3 != 64) {[m
[31m-                    output = output + String.fromCharCode(chr2);[m
[31m-                }[m
[31m-                if (enc4 != 64) {[m
[31m-                    output = output + String.fromCharCode(chr3);[m
[31m-                }[m
[32m+[m[32m            output = output +[m
[32m+[m[32m               keyStr.charAt(enc1) +[m
[32m+[m[32m               keyStr.charAt(enc2) +[m
[32m+[m[32m               keyStr.charAt(enc3) +[m
[32m+[m[32m               keyStr.charAt(enc4);[m
[32m+[m[32m            chr1 = chr2 = chr3 = "";[m
[32m+[m[32m            enc1 = enc2 = enc3 = enc4 = "";[m
[32m+[m[32m         } while (i < input.length);[m
[32m+[m
[32m+[m[32m         return output;[m
[32m+[m[32m      },[m
[32m+[m
[32m+[m[32m      decode: function(input) {[m
[32m+[m[32m         var output = "";[m
[32m+[m[32m         var chr1, chr2, chr3 = "";[m
[32m+[m[32m         var enc1, enc2, enc3, enc4 = "";[m
[32m+[m[32m         var i = 0;[m
[32m+[m
[32m+[m[32m         // remove all characters that are not A-Z, a-z, 0-9, +, /, or =[m
[32m+[m[32m         var base64test = /[^A-Za-z0-9\+\/\=]/g;[m
[32m+[m[32m         if (base64test.exec(input)) {[m
[32m+[m[32m            window.alert("There were invalid base64 characters in the input text.\n" +[m
[32m+[m[32m               "Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\n" +[m
[32m+[m[32m               "Expect errors in decoding.");[m
[32m+[m[32m         }[m
[32m+[m[32m         input = input.replace(/[^A-Za-z0-9\+\/\=]/g, "");[m
[32m+[m
[32m+[m[32m         do {[m
[32m+[m[32m            enc1 = keyStr.indexOf(input.charAt(i++));[m
[32m+[m[32m            enc2 = keyStr.indexOf(input.charAt(i++));[m
[32m+[m[32m            enc3 = keyStr.indexOf(input.charAt(i++));[m
[32m+[m[32m            enc4 = keyStr.indexOf(input.charAt(i++));[m
[32m+[m
[32m+[m[32m            chr1 = (enc1 << 2) | (enc2 >> 4);[m
[32m+[m[32m            chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);[m
[32m+[m[32m            chr3 = ((enc3 & 3) << 6) | enc4;[m
[32m+[m
[32m+[m[32m            output = output + String.fromCharCode(chr1);[m
[32m+[m
[32m+[m[32m            if (enc3 != 64) {[m
[32m+[m[32m               output = output + String.fromCharCode(chr2);[m
[32m+[m[32m            }[m
[32m+[m[32m            if (enc4 != 64) {[m
[32m+[m[32m               output = output + String.fromCharCode(chr3);[m
[32m+[m[32m            }[m
 [m
[31m-                chr1 = chr2 = chr3 = "";[m
[31m-                enc1 = enc2 = enc3 = enc4 = "";[m
[32m+[m[32m            chr1 = chr2 = chr3 = "";[m
[32m+[m[32m            enc1 = enc2 = enc3 = enc4 = "";[m
 [m
[31m-            } while (i < input.length);[m
[32m+[m[32m         } while (i < input.length);[m
 [m
[31m-            return output;[m
[31m-        }[m
[31m-    };[m
[32m+[m[32m         return output;[m
[32m+[m[32m      }[m
[32m+[m[32m   };[m
 });[m
[1mdiff --git a/app/components/home/views/frontpage.html b/app/components/home/views/frontpage.html[m
[1mindex 50b3537..b1773a3 100644[m
[1m--- a/app/components/home/views/frontpage.html[m
[1m+++ b/app/components/home/views/frontpage.html[m
[36m@@ -129,7 +129,6 @@[m
          <form name="form" ng-submit="login()" role="form">[m
             <div class="form-group">[m
                <label for="username">Username</label>[m
[31m-               <i class="fa fa-key"></i>[m
                <input type="text" name="username" id="username" class="form-control" ng-model="username" required/>[m
                <span ng-show="form.username.$dirty && form.username.$error.required" class="help-block">Username is required</span>[m
             </div>[m
[36m@@ -146,7 +145,7 @@[m
                      ng-if="dataLoading"[m
                      src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="/>[m
                      <br>[m
[31m-                     <small> Not registered yet? <a href="#/register">Sign up!</a></small>[m
[32m+[m[32m                     <small> Not registered yet? <a ui-sref="register">Sign up!</a></small>[m
                </div>[m
             </div>[m
          </form>[m
[1mdiff --git a/app/components/home/views/register.html b/app/components/home/views/register.html[m
[1mindex 7cc5ef2..24995cd 100644[m
[1m--- a/app/components/home/views/register.html[m
[1m+++ b/app/components/home/views/register.html[m
[36m@@ -1 +1,37 @@[m
[31m-<p>register here!!!!!</p>[m
[32m+[m[32m<div class="container">[m
[32m+[m[32m<div class="form-container">[m
[32m+[m[32m   <div ng-show="error" class="alert alert-danger">{{error}}</div>[m
[32m+[m[32m   <form name="form" ng-submit="register()" role="form">[m
[32m+[m[32m      <div class="form-group">[m
[32m+[m[32m         <label for="name">Name</label>[m
[32m+[m[32m         <input name="name" type="text" class="form-control" ng-model="name" required/>[m
[32m+[m[32m         <span ng-show="form.name.$dirty && form.name.$error.required" class="help-block">Name is required</span>[m
[32m+[m[32m      </div>[m
[32m+[m[32m      <div class="form-group">[m
[32m+[m[32m         <label for="email">Email</label>[m
[32m+[m[32m         <input name="email" type="email" class="form-control" ng-model="email" required/>[m
[32m+[m[32m         <span ng-show="form.email.$dirty && form.email.$error.required" class="help-block">Email is required</span>[m
[32m+[m[32m      </div>[m
[32m+[m[32m      <div class="form-group">[m
[32m+[m[32m         <label for="username">Username</label>[m
[32m+[m[32m         <input name="username" type="text" class="form-control" ng-model="username" required/>[m
[32m+[m[32m         <span ng-show="form.username.$dirty && form.username.$error.required" class="help-block">Username is required</span>[m
[32m+[m[32m      </div>[m
[32m+[m[32m      <div class="form-group">[m
[32m+[m[32m         <label for="password">Password</label>[m
[32m+[m[32m         <i class="fa fa-lock"></i>[m
[32m+[m[32m         <input name="password" type="password" class="form-control" ng-model="password" required/>[m
[32m+[m[32m         <span ng-show="form.password.$dirty && form.password.$error.required" class="help-block">Password is required</span>[m
[32m+[m[32m      </div>[m
[32m+[m[32m      <div class="form-actions">[m
[32m+[m[32m         <div class="login-button">[m
[32m+[m[32m            <button type="submit" ng-disabled="form.$invalid || dataLoading" class="btn btn-primary">Register</button>[m
[32m+[m[32m            <img[m
[32m+[m[32m               ng-if="dataLoading"[m
[32m+[m[32m               src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="/>[m
[32m+[m[32m               <br>[m
[32m+[m[32m         </div>[m
[32m+[m[32m      </div>[m
[32m+[m[32m   </form>[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[1mdiff --git a/assets/css/styles.css b/assets/css/styles.css[m
[1mindex 8e8de91..5728ee0 100644[m
[1m--- a/assets/css/styles.css[m
[1m+++ b/assets/css/styles.css[m
[36m@@ -252,3 +252,127 @@[m [mfooter {[m
 .login-button{[m
    text-align:center;[m
 }[m
[32m+[m
[32m+[m[32m/*** NAV BAR ****/[m
[32m+[m
[32m+[m[32m.margin-top{[m
[32m+[m[32m   margin-top: 50px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#masthead {[m
[32m+[m[32m min-height:250px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#masthead h1 {[m
[32m+[m[32m font-size: 30px;[m
[32m+[m[32m line-height: 1;[m
[32m+[m[32m padding-top:20px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#masthead .well {[m
[32m+[m[32m margin-top:8%;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m@media screen and (min-width: 768px) {[m
[32m+[m[32m  #masthead h1 {[m
[32m+[m[32m    font-size: 50px;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.navbar-bright {[m
[32m+[m[32m background-color:#111155;[m
[32m+[m[32m color:#fff;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.affix-top,.affix{[m
[32m+[m[32m position: static;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m@media (min-width: 979px) {[m
[32m+[m[32m  #sidebar.affix-top {[m
[32m+[m[32m    position: static;[m
[32m+[m[41m  [m	[32mmargin-top:30px;[m
[32m+[m[41m  [m	[32mwidth:228px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  #sidebar.affix {[m
[32m+[m[32m    position: fixed;[m
[32m+[m[32m    top:70px;[m
[32m+[m[32m    width:228px;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m#sidebar li.active {[m
[32m+[m[32m  border:0 #eee solid;[m
[32m+[m[32m  border-right-width:5px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.navbar-default {[m
[32m+[m[32m  background-color: #006dcc;[m
[32m+[m[32m  border-color: #005197;[m
[32m+[m[32m}[m
[32m+[m[32m.navbar-default .navbar-brand {[m
[32m+[m[32m  color: #ecf0f1;[m
[32m+[m[32m}[m
[32m+[m[32m.navbar-default .navbar-brand:hover,[m
[32m+[m[32m.navbar-default .navbar-brand:focus {[m
[32m+[m[32m  color: #ffffff;[m
[32m+[m[32m}[m
[32m+[m[32m.navbar-default .navbar-text {[m
[32m+[m[32m  color: #ecf0f1;[m
[32m+[m[32m}[m
[32m+[m[32m.navbar-default .navbar-nav > li > a {[m
[32m+[m[32m  color: #ecf0f1;[m
[32m+[m[32m}[m
[32m+[m[32m.navbar-default .navbar-nav > li > a:hover,[m
[32m+[m[32m.navbar-default .navbar-nav > li > a:focus {[m
[32m+[m[32m  color: #ffffff;[m
[32m+[m[32m}[m
[32m+[m[32m.navbar-default .navbar-nav > .active > a,[m
[32m+[m[32m.navbar-default .navbar-nav > .active > a:hover,[m
[32m+[m[32m.navbar-default .navbar-nav > .active > a:focus {[m
[32m+[m[32m  color: #ffffff;[m
[32m+[m[32m  background-color: #005197;[m
[32m+[m[32m}[m
[32m+[m[32m.navbar-default .navbar-nav > .open > a,[m
[32m+[m[32m.navbar-default .navbar-nav > .open > a:hover,[m
[32m+[m[32m.navbar-default .navbar-nav > .open > a:focus {[m
[32m+[m[32m  color: #ffffff;[m
[32m+[m[32m  background-color: #005197;[m
[32m+[m[32m}[m
[32m+[m[32m.navbar-default .navbar-toggle {[m
[32m+[m[32m  border-color: #005197;[m
[32m+[m[32m}[m
[32m+[m[32m.navbar-default .navbar-toggle:hover,[m
[32m+[m[32m.navbar-default .navbar-toggle:focus {[m
[32m+[m[32m  background-color: #005197;[m
[32m+[m[32m}[m
[32m+[m[32m.navbar-default .navbar-toggle .icon-bar {[m
[32m+[m[32m  background-color: #ecf0f1;[m
[32m+[m[32m}[m
[32m+[m[32m.navbar-default .navbar-collapse,[m
[32m+[m[32m.navbar-default .navbar-form {[m
[32m+[m[32m  border-color: #ecf0f1;[m
[32m+[m[32m}[m
[32m+[m[32m.navbar-default .navbar-link {[m
[32m+[m[32m  color: #ecf0f1;[m
[32m+[m[32m}[m
[32m+[m[32m.navbar-default .navbar-link:hover {[m
[32m+[m[32m  color: #ffffff;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m@media (max-width: 767px) {[m
[32m+[m[32m  .navbar-default .navbar-nav .open .dropdown-menu > li > a {[m
[32m+[m[32m    color: #ecf0f1;[m
[32m+[m[32m  }[m
[32m+[m[32m  .navbar-default .navbar-nav .open .dropdown-menu > li > a:hover,[m
[32m+[m[32m  .navbar-default .navbar-nav .open .dropdown-menu > li > a:focus {[m
[32m+[m[32m    color: #ffffff;[m
[32m+[m[32m  }[m
[32m+[m[32m  .navbar-default .navbar-nav .open .dropdown-menu > .active > a,[m
[32m+[m[32m  .navbar-default .navbar-nav .open .dropdown-menu > .active > a:hover,[m
[32m+[m[32m  .navbar-default .navbar-nav .open .dropdown-menu > .active > a:focus {[m
[32m+[m[32m    color: #ffffff;[m
[32m+[m[32m    background-color: #005197;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/index.html b/index.html[m
[1mindex 16c80e7..62541d5 100644[m
[1m--- a/index.html[m
[1m+++ b/index.html[m
[36m@@ -28,22 +28,23 @@[m
    <body ng-app="ProxyPrint">[m
 [m
 [m
[31m-      <div ng-view></div>[m
[32m+[m[32m      <div ui-view></div>[m
 [m
 [m
       <!-- 3rd Party -->[m
       <script src="assets/js/jquery.js"></script>[m
       <script src="assets/js/bootstrap.min.js"></script>[m
       <script type="text/javascript" src="node_modules/angular/angular.min.js"></script>[m
[31m-      <script type="text/javascript" src="node_modules/angular-route/angular-route.min.js"></script>[m
[32m+[m[32m      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.18/angular-ui-router.js"></script>[m
       <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-cookies.js"></script>[m
       <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-resource.js"></script>[m
       <!-- App code -->[m
       <script src="app/app.modules.js"></script>[m
       <script src="app/app.routes.js"></script>[m
       <script src="app/components/home/controllers/LoginController.js"></script>[m
[31m-      <script src="app/components/home/controllers/registerController.js"></script>[m
[32m+[m[32m      <script src="app/components/home/controllers/RegisterController.js"></script>[m
       <script src="app/components/home/services/auth.js"></script>[m
[32m+[m[32m      <script src="app/components/consumer/controllers/ConsumerController.js"></script>[m
 [m
    </body>[m
 [m
